<% namespace = namespace.present? ? "#{namespace}_" : '' %>
<% no_ids ||= false %>
<% params.each do |p, v| %>
  <%  if !%w{commit utf8 controller page sort filter_from_date filter_to_date}.include?(p) %>
  <%    if v.is_a? Array  %>
  <%      v.each_with_index do |val,i| %>
  <%= hidden_field_tag("#{p}[]".to_sym, val, :id => no_ids ? nil : "#{namespace}#{p}_#{i}") %>
  <%      end %>
  <% else %>
  <%= hidden_field_tag(p.to_sym, v, :id => no_ids ? nil : "#{namespace}#{p}") %>
  <% end %>
  <% end %>
  <% end %>
